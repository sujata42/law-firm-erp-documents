<div class="card">
  <div class="card-body">

    <h5 class="mb-3">Filing Review Checklist</h5>

    <p class="text-muted">
      Confirm all steps are completed before marking the filing as ready.
    </p>

    <div class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="chk1">
      <label class="form-check-label" for="chk1">
        All required documents uploaded
      </label>
    </div>

    <div class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="chk2">
      <label class="form-check-label" for="chk2">
        Merge pack order verified
      </label>
    </div>

    <div class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="chk3">
      <label class="form-check-label" for="chk3">
        Indexing completed and reviewed
      </label>
    </div>

    <div class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="chk4">
      <label class="form-check-label" for="chk4">
        Signatures assigned
      </label>
    </div>

    <div class="form-check mb-4">
      <input class="form-check-input" type="checkbox" id="chk5">
      <label class="form-check-label" for="chk5">
        Oath / affirmation recorded (if applicable)
      </label>
    </div>

    <div class="d-flex justify-content-end">
      <button class="btn btn-dark">
        Mark as Ready for Filing
      </button>
    </div>

  </div>
</div>


<!-- new code  -->
 <div class="d-flex justify-content-end">
  <button class="btn btn-dark" onclick="submitChecklist()">
    Mark as Ready for Filing
  </button>
</div>

<script>
  function submitChecklist() {
    fetch('/api/filing/<%= matterId %>/checklist', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        documents_uploaded: true,
        merge_verified: true,
        indexing_completed: true,
        signatures_assigned: true,
        oath_recorded: true
      })
    })
    .then(res => res.json())
    .then(data => {
      if (data.success) {
        alert('Filing marked as READY');
      }
    });
  }
</script>
